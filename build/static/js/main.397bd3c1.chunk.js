(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={wrapper:"styles_wrapper__264sd",container:"styles_container__bRbBD",item:"styles_item__22pxc",imgWrapper:"styles_imgWrapper__1izSV",bookDescription:"styles_bookDescription__1yaFW",desrciption:"styles_desrciption__2NuJC",boldText:"styles_boldText__1cJXC",form:"styles_form__14y6z",input:"styles_input__3Y3DN",select:"styles_select__EY-RF",submit:"styles_submit__3Vy-4",spinner:"styles_spinner__3UIM0",loader:"styles_loader__mblgY"}},2:function(e,t,a){e.exports={app:"styles_app__3u-Od",searchForm:"styles_searchForm__4P6jC",gallery:"styles_gallery__oTy_2",galleryItem:"styles_galleryItem__BA24i",stats:"styles_stats__2x5vH",statsItem:"styles_statsItem__3feDh",fullscreenButton:"styles_fullscreenButton__1oQXP",button:"styles_button__zvLwg",backdrop:"styles_backdrop__2rZMG",modal:"styles_modal__14-5r"}},23:function(e){e.exports=["","fantasy","thriller","drama","mystery","horror","satire","computers"]},24:function(e,t,a){e.exports=a(47)},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),s=a(4),c=a(5),i=a(7),u=a(6),m=a(8),p=a(22),d=a(9),h=a.n(d),g=function(e,t){return h.a.get("".concat("https://www.googleapis.com/books/v1/volumes?q=").concat(e,"+subject:").concat(t),{headers:{"Content-Type":"text/html"}})},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return h.a.get("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=").concat(a,"&key=").concat("12738660-493779526e4dbdf56b35386f0"))},b=a(23),f=a(1),_=a.n(f),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",category:""},a.onInputChange=function(e){a.setState({inputValue:e.target.value}),a.props.onSubmit(e.target.value,a.state.category)},a.onSelectBlur=function(e){return a.setState({category:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),(a.state.inputValue.length>0||a.state.category.length>0)&&(a.props.onSubmit(a.state.inputValue,a.state.category),a.setState({inputValue:"",category:""}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.inputValue,a=e.category;return r.a.createElement("form",{className:_.a.form,onSubmit:this.handleSubmit},r.a.createElement("input",{className:_.a.input,value:t,onChange:this.onInputChange,placeholder:"find your book",type:"text"}),r.a.createElement("select",{className:_.a.select,onBlur:this.onSelectBlur},b.map(function(e){return r.a.createElement("option",{key:e,value:e,defaultValue:a},e)})),r.a.createElement("input",{className:_.a.submit,type:"submit",value:"Submit"}))}}]),t}(n.Component),E=function(e){var t=e.image,a=e.title,n=e.description,l=e.authors,o=e.publisher,s=e.publishedDate,c=e.pageCount,i=e.rating;return r.a.createElement("div",{className:_.a.item},r.a.createElement("div",{className:_.a.imgWrapper},r.a.createElement("a",{href:"#"},r.a.createElement("img",{className:_.a.image,src:t,alt:a}))),r.a.createElement("div",{className:_.a.bookDescription},r.a.createElement("h2",null,a),r.a.createElement("p",{className:_.a.desrciption},n),r.a.createElement("p",null,"Authors:"," ",l&&l.map(function(e){return r.a.createElement("span",{key:e,className:_.a.boldText},e)})),r.a.createElement("p",null,"Publisher: ",r.a.createElement("span",{className:_.a.boldText},o)),r.a.createElement("p",null,"Published date:"," ",r.a.createElement("span",{className:_.a.boldText},s)),r.a.createElement("p",null,"Pages: ",r.a.createElement("span",{className:_.a.boldText},c)),r.a.createElement("p",null,"Rating:"," ",r.a.createElement("span",{className:_.a.boldText},i||"No data"))))};E.defaultProps={image:"",title:"",description:"",authors:[],publisher:"",publishedDate:"",pageCount:null,rating:0};var k=E,N=function(e){var t=e.items;return t&&r.a.createElement("div",{className:_.a.container},t.map(function(e){var t=e.volumeInfo,a=t.title,n=t.description,l=t.authors,o=t.publisher,s=t.publishedDate,c=t.pageCount,i=t.averageRating,u=t.imageLinks,m=void 0===u?{}:u;return r.a.createElement(k,{key:e.id,title:a,description:n,authors:l,publisher:o,publishedDate:s,pageCount:c,rating:i,image:m.thumbnail||"http://books.google.com/books/content?id=bmwutRcn_TMC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"})}))},C=function(){return r.a.createElement("h2",{className:_.a.loader},"Is Loading....")},w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={searchResult:[],isLoading:!1},a.onFormaSubmit=function(e,t){a.setState({isLoading:!0}),g(e,t).then(function(e){return a.setState({searchResult:e.data.items})}).catch(function(e){return console.log(e)}).finally(function(){return a.setState({isLoading:!1})})},a.onFormaSubmitDebounsed=Object(p.throttle)(a.onFormaSubmit,2e3),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchResult,a=void 0===t?[]:t,n=e.isLoading;return r.a.createElement("div",{className:_.a.wrapper},r.a.createElement(v,{onSubmit:this.onFormaSubmitDebounsed}),n&&r.a.createElement(C,null),a.length>0&&r.a.createElement(N,{items:a}))}}]),t}(n.Component),S=a(10),O=a(2),j=a.n(O),I=function(e){var t=e.value,a=e.onChange,n=e.onSubmit;return r.a.createElement("form",{className:j.a.searchForm,onSubmit:n},r.a.createElement("input",{onChange:a,value:t,type:"text",autoComplete:"off",placeholder:"Search images..."}))},D=function(e){var t=e.id,a=e.webformatURL,n=e.likes,l=e.views,o=e.comments,s=e.downloads,c=e.tags,i=e.onClick;return r.a.createElement("li",{key:t,className:j.a.galleryItem},r.a.createElement("img",{src:a,alt:c}),r.a.createElement("div",{className:j.a.stats},r.a.createElement("p",{className:j.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),n),r.a.createElement("p",{className:j.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),l),r.a.createElement("p",{className:j.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),o),r.a.createElement("p",{className:j.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),s)),r.a.createElement("button",{type:"button",className:j.a.fullscreenButton,onClick:i},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).gallery=Object(n.createRef)(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props.galleryItems;e.galleryItems!==n&&window.scrollTo({top:a.shouldScroll,left:0,behavior:"smooth"})}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.gallery.current;return{shouldScroll:e.offsetHeight+e.offsetTop}}},{key:"render",value:function(){var e=this.props,t=e.galleryItems,a=e.onClick,l=e.onButtonLoadMoreClick;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{ref:this.gallery,className:j.a.gallery},t.map(function(e){return r.a.createElement(D,{key:e.id,id:e.id,webformatURL:e.webformatURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,tags:e.tags,onClick:function(){return a(e.largeImageURL)}})})),r.a.createElement("button",{className:j.a.button,onClick:l,type:"button"},"Load more"))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).backDropRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleDropClick=function(e){var t=a.backDropRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.largeImageUrl;return r.a.createElement("div",{className:j.a.backdrop,ref:this.backDropRef,onClick:this.handleDropClick},r.a.createElement("div",{className:j.a.modal},r.a.createElement("img",{src:e,alt:"search"})))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={galleryItems:[],isModalOpen:!1,largeImageUrl:"",queryPage:1,inputValue:""},a.handleInputChange=function(e){return a.setState({inputValue:e.target.value})},a.openModal=function(e){return a.setState({isModalOpen:!0,largeImageUrl:e})},a.closeModal=function(){return a.setState({isModalOpen:!1})},a.onButtonLoadMoreClick=function(){a.setState(function(e){return{queryPage:e.queryPage+1}},a.getQueryResult(a.state.inputValue,a.state.queryPage+1))},a.getQueryResult=function(e,t){e?y(e,t).then(function(e){return e?a.setState(function(t){return{galleryItems:[].concat(Object(S.a)(t.galleryItems),Object(S.a)(e.data.hits))}}):alert("Nothing found. Please repeat your search")}).catch(function(e){return console.log(e)}):alert("Please enter your query")},a.onSubmit=function(e){var t=a.state.inputValue;e.preventDefault(),t?(y(t,1).then(function(e){return e?a.setState({galleryItems:e.data.hits}):alert("Nothing found. Please repeat your search")}).catch(function(e){return console.log(e)}),a.setState({queryPage:1})):alert("Please enter your query")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.galleryItems,a=e.isModalOpen,n=e.largeImageUrl,l=e.inputValue;return r.a.createElement("div",{className:j.a.app},r.a.createElement(I,{onSubmit:this.onSubmit,onChange:this.handleInputChange,value:l}),t.length>0&&r.a.createElement(R,{galleryItems:t,onClick:this.openModal,onButtonLoadMoreClick:this.onButtonLoadMoreClick}),a&&r.a.createElement(L,{onClose:this.closeModal,largeImageUrl:n}))}}]),t}(n.Component);o.a.render(r.a.createElement(n.Fragment,null,r.a.createElement(w,null),r.a.createElement(P,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.397bd3c1.chunk.js.map